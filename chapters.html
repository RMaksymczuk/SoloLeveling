<!DOCTYPE html>
<html lang="pl-PL">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta name="description"
        content="Strona zrobiona przez fana do fanów Solo Leveling. Znajdziesz tu wszystko powieść, audiobook, manhwe, AMV i anime, online po polsku w najlepszej jakości.">
    <meta name="keywords"
        content="Solo Leveling, Solo Leveling Polska, Solo Leveling Online, Solo Leveling AMV, Solo Leveling Anime, Solo Leveling Manhwa, Solo Leveling Audiobook, anime, manhwa, audiobook, AMV, online, po polsku, manga, Only I Level Up, I Alone Level Up, GMV, MMV, 4K, 60 FPS, Polska, polski, najwyższa jakość, lektor, napisy, playlist, wszystko o Solo Leveling, wszystko w jednym miejscu, fan, powieść, novel">
    <meta name="author" content="Mateusz Mróz">

    <title>Solo Leveling Po Polsku Online - Novel PL, Audiobook PL, Manhwa PL, AMV 4K 60 FPS, Anime 4K 60 FPS</title>

    <link rel="shortcut icon" href="assets/img/Ikon.png" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/manhwaStyle.css">
</head>

<body>
    <header class="header">
        <div class="nav__logo">
            <a href="https://mattymroz.github.io/SoloLeveling/" target="_blank">
                <span class="blast">S</span><span class="blast">o</span><span class="blast">l</span><span
                    class="blast">o</span>
                <span class="blast">L</span><span class="blast">e</span><span class="blast">v</span><span
                    class="blast">e</span><span class="blast">l</span><span class="blast">i</span><span
                    class="blast">n</span><span class="blast">g</span>
            </a>
        </div>

        <div class="nav__button">
            <div class="button__area">
                <div class="button__wrapper">
                    <button class="button button__prev">
                        <i class=" ri-arrow-right-s-line"></i>
                        Poprzedni
                        <i class="ri-arrow-left-s-line"></i>
                    </button>
                    <div class="num">
                        <h1 class="num_h1 num__currentPage"></h1>
                    </div>
                    <button class="button button__next">
                        <i class=" ri-arrow-right-s-line"></i>
                        Następny
                        <i class="ri-arrow-left-s-line"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="manhwa">
        </div>

        <div class="scroll"></div>
    </main>

    <footer class="footer">
        <div class="nav__button">
            <div class="button__area">
                <div class="button__wrapper">
                    <button class="button button__prev">
                        <i class=" ri-arrow-right-s-line"></i>
                        Poprzedni
                        <i class="ri-arrow-left-s-line"></i>
                    </button>
                    <div class="num">
                        <h1 class="num__h1 num__currentPage"></h1>
                    </div>
                    <button class="button button__next">
                        <i class=" ri-arrow-right-s-line"></i>
                        Następny
                        <i class="ri-arrow-left-s-line"></i>
                    </button>
                </div>
            </div>
        </div>
    </footer>
</body>
<script>
    let missingImages = 0;

    function blast() {
        const blast = document.querySelectorAll('.blast');
        blast.forEach((blast) => {
            blast.addEventListener('mouseenter', () => {
                blast.classList.add('active__blast');
                blast.addEventListener('animationend', () => {
                    blast.classList.remove('active__blast');
                });
            });
        });
    }

    const loadNoImageMessage = (imageNumber) => {
        const div = document.createElement('div');
        const images = document.querySelector('.manhwa');

        div.innerHTML = `Missing Image - ${imageNumber}`;
        images.appendChild(div);
        missingImages = missingImages + 1;
    }

    const loadNextImage = (episodeNumber, i = 1) => {
        if (i > 100 || missingImages > 4) return;

        const img = document.createElement('img');
        const images = document.querySelector('.manhwa');

        img.src = `https://huggingface.co/datasets/MattyMroz/SoloLeveling/resolve/main/R${episodeNumber}/${i}.png`;
        img.alt = `Solo Leveling`;
        img.loading = 'lazy'
        img.addEventListener('load', () => loadNextImage(episodeNumber, i + 1));
        img.addEventListener('error', () => {
            img.remove();
            loadNoImageMessage(i);
            loadNextImage(episodeNumber, i + 1);
        });

        images.appendChild(img);
    }

    function generateImages() {
        const episodeNumber = localStorage.getItem('buttonNumber');
        loadNextImage(episodeNumber);
    }

    function displayNone() {
        const images = document.querySelectorAll('.manhwa img');
        images.forEach((image) => {
            image.addEventListener('load', () => {
                image.style.display = 'block';
            });
            image.addEventListener('error', () => {
                image.style.display = 'none';
            });
        });
    }

    const handleCurrentPage = () => {
        const episodeNumber = localStorage.getItem('buttonNumber');
        const num__h1 = document.querySelectorAll('.num__currentPage');
        num__h1.forEach((el) => {el.innerHTML = `${episodeNumber}`});
    }

    const handlePrev = () => {
        const nextButton = document.querySelectorAll('.button__prev');
        nextButton.forEach((el) => {
            el.addEventListener('click', () => {
                const currentNumber = localStorage.getItem('buttonNumber');
                localStorage.setItem('buttonNumber', Number(currentNumber) - 1);
                window.scrollTo({
                    top: 0,
                    left: 0,
                    behavior: 'instant',
                });
                location.reload();
            });
        });
    }

    const handleNext = () => {
        const nextButton = document.querySelectorAll('.button__next');
        nextButton.forEach((el) => {
            el.addEventListener('click', () => {
                const currentNumber = localStorage.getItem('buttonNumber');
                localStorage.setItem('buttonNumber', Number(currentNumber) + 1);
                window.scrollTo({
                    top: 0,
                    left: 0,
                    behavior: 'instant',
                });
                location.reload();
            });
        });
    }

    blast();
    generateImages();
    displayNone();
    handleCurrentPage();
    handlePrev();
    handleNext();
</script>

</html>